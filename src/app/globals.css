@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  --font-display: "Playfair Display", serif;
  --font-sans: "Red Hat Text", system-ui, sans-serif;
  --font-mono: "Space Mono", ui-monospace, monospace;

  --color-ink: oklch(0.18 0.07 60);
  --color-ink-muted: oklch(0.34 0.03 45);
  --color-parchment: oklch(0.96 0.03 85);
  --color-parchment-soft: oklch(0.9 0.02 85);
  --color-parchment-deep: oklch(0.78 0.03 70);
  --color-aurora: oklch(0.84 0.11 200);
  --color-aurora-deep: oklch(0.48 0.14 210);
  --color-aurora-muted: oklch(0.74 0.06 220);
  --color-ember: oklch(0.75 0.14 30);
  --color-ember-deep: oklch(0.54 0.18 30);
  --color-stamp: oklch(0.68 0.09 10);
  --color-success: oklch(0.78 0.12 140);
  --color-warning: oklch(0.83 0.12 90);
  --color-danger: oklch(0.7 0.17 25);

  --shadow-vignette: 0 40px 120px rgba(52, 21, 12, 0.18);
  --shadow-panel: 0 18px 60px rgba(18, 12, 7, 0.16);
  --shadow-stamp: 0 6px 24px rgba(32, 12, 6, 0.24);

  --radius-panel: 24px;
  --radius-pill: 999px;
  --radius-card: 20px;
  --radius-vintage: 16px;
  --noise-url: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180' viewBox='0 0 180 180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.4' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='0.15'/%3E%3C/svg%3E");

  /* shadcn/ui theme tokens */
  --background: var(--color-parchment);
  --foreground: var(--color-ink);
  --card: rgba(255, 249, 239, 0.94);
  --card-foreground: var(--color-ink);
  --popover: rgba(255, 247, 234, 0.96);
  --popover-foreground: var(--color-ink);
  --primary: #412215;
  --primary-foreground: rgba(255, 244, 231, 0.98);
  --secondary: rgba(243, 216, 179, 0.85);
  --secondary-foreground: #452319;
  --muted: rgba(223, 184, 140, 0.25);
  --muted-foreground: rgba(91, 56, 38, 0.76);
  --accent: rgba(153, 119, 89, 0.28);
  --accent-foreground: #3f2017;
  --destructive: #c8513c;
  --destructive-foreground: #fff6ef;
  --border: rgba(111, 72, 49, 0.24);
  --input: rgba(111, 72, 49, 0.22);
  --ring: rgba(121, 87, 60, 0.55);
  --radius: 0.625rem;
}

:root.dark {
  --color-ink: oklch(0.88 0.04 84);
  --color-ink-muted: oklch(0.72 0.02 82);
  --color-parchment: oklch(0.23 0.03 60);
  --color-parchment-soft: oklch(0.18 0.02 58);
  --color-parchment-deep: oklch(0.14 0.03 55);
  --shadow-vignette: 0 40px 120px rgba(4, 7, 17, 0.45);
  --shadow-panel: 0 18px 60px rgba(4, 7, 17, 0.54);
  --shadow-stamp: 0 6px 24px rgba(8, 14, 24, 0.62);
  --noise-url: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180' viewBox='0 0 180 180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.25' numOctaves='5' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='0.27'/%3E%3C/svg%3E");

  --background: var(--color-parchment);
  --foreground: var(--color-ink);
  --card: rgba(46, 30, 23, 0.92);
  --card-foreground: rgba(248, 235, 223, 0.96);
  --popover: rgba(46, 30, 23, 0.96);
  --popover-foreground: rgba(248, 235, 223, 0.96);
  --primary: #f6d9b1;
  --primary-foreground: #2b1912;
  --secondary: rgba(98, 74, 52, 0.58);
  --secondary-foreground: rgba(248, 235, 223, 0.95);
  --muted: rgba(82, 54, 38, 0.45);
  --muted-foreground: rgba(242, 209, 163, 0.82);
  --accent: rgba(82, 54, 38, 0.55);
  --accent-foreground: rgba(242, 209, 163, 0.88);
  --destructive: #f19178;
  --destructive-foreground: #2b1912;
  --border: rgba(242, 209, 163, 0.18);
  --input: rgba(242, 209, 163, 0.2);
  --ring: rgba(242, 209, 163, 0.45);
}

@layer base {
  * {
    border-color: transparent;
    outline-color: rgba(84, 52, 36, 0.45);
  }

  body {
    font-family: var(--font-sans);
    color: var(--color-ink);
    background: var(--color-parchment);
    background-image: var(--noise-url), radial-gradient(circle at 22% 18%, rgba(219, 180, 136, 0.2), transparent 55%), radial-gradient(circle at 78% 8%, rgba(154, 113, 82, 0.16), transparent 60%), radial-gradient(circle at 46% 92%, rgba(116, 139, 173, 0.18), transparent 62%);
    min-height: 100vh;
    position: relative;
  }

  body::before,
  body::after {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -1;
  }

  body::before {
    background: radial-gradient(circle at 15% 25%, rgba(92, 168, 215, 0.28), transparent 55%), radial-gradient(circle at 80% 30%, rgba(246, 192, 141, 0.24), transparent 58%), radial-gradient(circle at 50% 80%, rgba(198, 121, 163, 0.18), transparent 60%);
    filter: blur(20px);
    opacity: 0.9;
  }

  body::after {
    background-image: var(--noise-url);
    mix-blend-mode: soft-light;
    opacity: 0.6;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-display);
    letter-spacing: -0.01em;
  }
}

@layer utilities {
  .vintage-panel {
    position: relative;
    border-radius: var(--radius-panel);
    background: linear-gradient(140deg, rgba(255, 250, 243, 0.94), rgba(246, 236, 223, 0.9));
    box-shadow: var(--shadow-panel);
    overflow: hidden;
  }

  .vintage-panel::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: radial-gradient(circle at top left, rgba(211, 178, 141, 0.22), transparent 55%), radial-gradient(circle at bottom right, rgba(127, 176, 221, 0.2), transparent 60%), var(--noise-url);
    opacity: 0.9;
    pointer-events: none;
  }

  .vintage-card {
    position: relative;
    border-radius: var(--radius-card);
    border: 1px solid rgba(81, 51, 33, 0.22);
    background: linear-gradient(165deg, rgba(255, 248, 240, 0.96), rgba(248, 240, 233, 0.9));
    box-shadow: var(--shadow-panel);
    overflow: hidden;
  }

  .vintage-card::after {
    content: "";
    position: absolute;
    inset: 0;
    background-image: linear-gradient(125deg, rgba(255, 255, 255, 0.24), rgba(152, 191, 217, 0.08) 40%, rgba(250, 217, 173, 0.1));
    mix-blend-mode: soft-light;
    pointer-events: none;
  }

  .vintage-stamp {
    border-radius: var(--radius-pill);
    background: linear-gradient(120deg, rgba(112, 79, 48, 0.96), rgba(198, 156, 121, 0.84));
    color: rgba(251, 244, 234, 0.96);
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.18em;
    position: relative;
    padding: 0.4rem 1.6rem;
    box-shadow: var(--shadow-stamp);
  }

  .vintage-stamp::after {
    content: "";
    position: absolute;
    inset: -25%;
    border-radius: inherit;
    border: 1px dashed rgba(251, 244, 234, 0.35);
    opacity: 0.6;
    pointer-events: none;
  }

  .vintage-vignette {
    position: relative;
  }

  .vintage-vignette::after {
    content: "";
    position: absolute;
    inset: -12%;
    border-radius: inherit;
    background: radial-gradient(circle at center, transparent 55%, rgba(12, 12, 12, 0.25));
    pointer-events: none;
    mix-blend-mode: multiply;
  }

  .vintage-aurora {
    position: relative;
  }

  .vintage-aurora::before {
    content: "";
    position: absolute;
    inset: -20%;
    background: radial-gradient(circle at 20% 20%, rgba(106, 143, 205, 0.26), transparent 60%), radial-gradient(circle at 80% 35%, rgba(251, 185, 131, 0.22), transparent 62%), radial-gradient(circle at 30% 80%, rgba(202, 113, 156, 0.16), transparent 58%);
    filter: blur(24px);
    opacity: 0.85;
    pointer-events: none;
  }

  .vintage-stripes {
    position: relative;
  }

  .vintage-stripes::after {
    content: "";
    position: absolute;
    inset: 0;
    background-image: repeating-linear-gradient(135deg, rgba(67, 46, 25, 0.08) 0px, rgba(67, 46, 25, 0.08) 1px, transparent 1px, transparent 9px);
    mix-blend-mode: multiply;
    pointer-events: none;
  }

  .vintage-gradient-border {
    position: relative;
    border-radius: inherit;
  }

  .vintage-gradient-border::before {
    content: "";
    position: absolute;
    inset: -1px;
    border-radius: inherit;
    background: linear-gradient(140deg, rgba(46, 74, 98, 0.34), rgba(120, 98, 83, 0.4), rgba(191, 150, 108, 0.36));
    z-index: -2;
  }

  .vintage-gradient-border::after {
    content: "";
    position: absolute;
    inset: 1px;
    border-radius: inherit;
    background: inherit;
    z-index: -1;
  }

  .floating-stamp {
    animation: stamp-drift 9s ease-in-out infinite;
    transform-origin: center;
  }

  .deadline-glyph {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    width: 44px;
    height: 44px;
    border: 1px dashed rgba(82, 57, 39, 0.45);
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    background: rgba(255, 255, 255, 0.86);
    box-shadow: 0 10px 25px rgba(89, 51, 25, 0.16);
    animation: glyph-rotate 12s linear infinite;
  }

  .deadline-ticker {
    display: flex;
    gap: 48px;
    font-family: var(--font-mono);
    letter-spacing: 0.2em;
    text-transform: uppercase;
    white-space: nowrap;
    opacity: 0.82;
  }

  .deadline-ticker--scroll {
    animation: ticker-scroll 40s linear infinite;
  }

  .deadline-dial {
    position: relative;
    width: 58px;
    height: 58px;
    border-radius: 50%;
    display: grid;
    place-items: center;
    background: conic-gradient(
      from 180deg,
      rgba(191, 150, 108, 0.88) 0deg var(--dial-fill, 40%),
      rgba(230, 224, 214, 0.32) var(--dial-fill, 40%) 360deg
    );
    box-shadow: inset 0 0 0 1px rgba(95, 64, 46, 0.28), 0 10px 30px rgba(44, 24, 15, 0.26);
    color: rgba(52, 24, 12, 0.92);
    font-family: var(--font-mono);
    font-size: 0.7rem;
    letter-spacing: 0.12em;
  }

  .aurora-pin {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 0.6rem;
    padding: 0.55rem 1.4rem;
    border-radius: var(--radius-pill);
    background: linear-gradient(135deg, rgba(48, 73, 125, 0.75), rgba(186, 147, 99, 0.82));
    color: rgba(249, 244, 237, 0.96);
    letter-spacing: 0.16em;
  }

  .aurora-pin::after {
    content: "";
    position: absolute;
    inset: -12%;
    border-radius: inherit;
    background: radial-gradient(circle at 30% 30%, rgba(255, 213, 153, 0.45), transparent 60%);
    mix-blend-mode: screen;
    opacity: 0.66;
  }

  .striped-overlay {
    position: relative;
  }

  .striped-overlay::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: repeating-linear-gradient(45deg, rgba(11, 8, 5, 0.06) 0px, rgba(11, 8, 5, 0.06) 1px, transparent 1px, transparent 12px);
    pointer-events: none;
  }
}

@layer utilities {
  @keyframes stamp-drift {
    0%,
    100% {
      transform: translateY(-4px) rotate(-3deg);
    }
    50% {
      transform: translateY(4px) rotate(3deg);
    }
  }

  @keyframes glyph-rotate {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes ticker-scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  @keyframes panel-glow {
    0%,
    100% {
      opacity: 0.55;
    }
    45% {
      opacity: 0.85;
    }
  }

  @keyframes pulse-aurora {
    0%,
    100% {
      opacity: 0.5;
      transform: scale(0.98);
    }
    50% {
      opacity: 0.8;
      transform: scale(1.05);
    }
  }

  @keyframes float-slow {
    0%,
    100% {
      transform: translate3d(0, 0, 0);
    }
    50% {
      transform: translate3d(0, -6px, 0);
    }
  }

  @keyframes pulse-ring {
    0% {
      transform: scale(0.85);
      opacity: 0.3;
    }
    70% {
      transform: scale(1.2);
      opacity: 0;
    }
    100% {
      transform: scale(0.85);
      opacity: 0;
    }
  }

  .animate-panel-glow {
    animation: panel-glow 6s ease-in-out infinite;
  }

  .animate-aurora {
    animation: pulse-aurora 18s ease-in-out infinite;
  }

  .animate-float-slow {
    animation: float-slow 10s ease-in-out infinite;
  }

  .animate-pulse-ring {
    position: relative;
  }

  .animate-pulse-ring::after {
    content: "";
    position: absolute;
    inset: -35%;
    border-radius: inherit;
    border: 1px solid rgba(84, 49, 30, 0.28);
    animation: pulse-ring 5s ease-out infinite;
  }
}
